window.WWebJS={},window.WWebJS.isReady=()=>WPP.isReady,window.WWebJS.checkNumberStatus=async e=>{try{return!!(await WPP.contact.queryExists(e)).wid}catch(e){return!1}},window.WWebJS.sendMessageToId=async(e,a)=>{try{return!!await window.WWebJS.checkNumberStatus(e)&&(await WPP.chat.sendTextMessage(e,a,{createChat:!0}),!0)}catch(e){return!1}},window.WWebJS.sendMediaMessage=async(e,a,t,n,i={})=>{try{if(!await window.WWebJS.checkNumberStatus(a))return!1;let i=e.split(",")[0].match(/(?:data:)?(.*?)(?:;base64)?$/i)[1];return i=i.split(/\s+;\s+/).join("; "),type=i.match(/^(.*?)\//)[1],await WPP.chat.sendFileMessage(a,e,{createChat:!0,type:type,caption:n,filename:t,mimetype:i}),!0}catch(e){return!1}},window.WWebJS.getAllGroups=async()=>(await WPP.group.getAllGroups()).map((e=>({id:e.id,name:e.name}))),window.WWebJS.getGroupParticipantIDs=async(e,a)=>{const t=await WPP.group.getParticipants(e),n=await t.map((e=>({phone:e.id.user,name:e.contact.name||e.contact.verifiedName||e.contact.pushname||e.contact.shortName||e.contact.displayName||e.contact.username||e.id.user})));return null!=a&&a(n),n},window.WWebJS.getAllContacts=async e=>{const a=await WPP.contact.list(),t=await a.filter((e=>"c.us"==e.id.server)).map((e=>({phone:e.id.user,name:e.name||e.verifiedName||e.pushname||e.id.user})));return null!=e&&e(a),t};
